{"name":"Twitter API recent tweets custom query","description":"Uses the twitter API to query recent tweets based off of key words/phrases, and other controls.","tags":["requires-credentials","social"],"query":"api get https://api.twitter.com/2/tweets/search/recent?query=NASA&tweet.fields=author_id --credentials.oauth \"twitter\"\n|| normalize data","templateSchema":{}}
{"name":"Google News Headlines","description":"Retrieves all headlines from the Google News RSS feed","tags":["no-prerequisites","news"],"query":"api get https://news.google.com/rss?hl=en-US&gl=US&ceid=US:en\n|| normalize rss.channel\n|| normalize item\n|| html description.0 --selector \"LI\"\n|| rename _html.innerText description\n|| parseTimestamp pubDate.0\n|| rename _timestamp.epoch epoch\n|| table description epoch\n|| filter \"(description != 'View Full Coverage on Google News')\"\n","templateSchema":{}}
{"name":"Splunk Query","description":"Runs a query on a Splunk instance","query":"addcolumn query \"$template.query$\"\n|| urlencode query\n|| api post $template.host$/services/search/jobs\n--headers '{\"Content-Type\": \"x-www-form-urlencoded\"}'\n--data \"search=$query$\"\n--verifySSL false\n--serializer xml\n|| api post $template.host$/services/search/jobs/$response.sid.0$\n--verifySSL false\n--serializer xml\n--while 'entry.content.0.s:dict.0.s:key.6.textContent != \"DONE\"'\n|| api get $entry.id.0$/results?output_mode=json\n--verifySSL false\n--serializer json\n|| table results.*\n|| normalize results","templateSchema":{}}
{"name":"Athena Query","description":"Runs a query on AWS Athena","query":"addcolumn query \"$template.query$\" --guid\n|| api post https://athena.$template.region$.amazonaws.com\n--credentials.aws4 \"$template.aws4Credential$\"\n--headers '{\"X-Amz-Target\": \"AmazonAthena.StartQueryExecution\",\"Content-Type\":\"application/x-amz-json-1.1\"}'\n--data '{\"QueryString\":\"$query$\",\"WorkGroup\":\"primary\",\"ResultConfiguration\":{\"OutputLocation\":\"$template.outputLocation$\"},\"QueryExecutionContext\":{\"Catalog\":\"AwsDataCatalog\",\"Database\":\"$template.database$\"},\"ClientRequestToken\":\"$_guid$\"}'\n--cache false\n--serializer json\n|| api post https://athena.$template.region$.amazonaws.com\n--credentials.aws4 \"$template.aws4Credential$\"\n--headers '{\"X-Amz-Target\": \"AmazonAthena.GetQueryExecution\",\"Content-Type\":\"application/x-amz-json-1.1\"}'\n--data '{\"QueryExecutionId\":\"$QueryExecutionId$\"}'\n--cache false\n--while 'QueryExecution.Status.State != \"SUCCEEDED\" and QueryExecution.Status.State != \"FAILED\" '\n--serializer json\n|| api post https://athena.$template.region$.amazonaws.com\n--credentials.aws4 \"$template.aws4Credential$\"\n--headers '{\"X-Amz-Target\": \"AmazonAthena.GetQueryResults\",\"Content-Type\":\"application/x-amz-json-1.1\"}'\n--data '{\"QueryExecutionId\":\"$QueryExecution.QueryExecutionId$\"}'\n--cache false\n--while 'QueryExecutionStatus != \"SUCCEEDED\"'\n--serializer json\n|| normalize ResultSet.ResultRows","templateSchema":{}}
